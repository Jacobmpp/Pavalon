<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Room {{ room_id }}</title>
</head>
<script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.0/socket.io.min.js"></script>
<script>
    name = '{{name}}'
    room_id = '{{room_id}}'
    console.log(name, room_id)
    var socket = io();

    socket.emit('join', {name: name, room_id: room_id});

    socket.on('players', function(players) {
        console.log(players)
        listTag = document.querySelector('#player-list')
        result = ''
        players.forEach(player => {
            result += `<li>${player}</li>\n`
        });
        listTag.innerHTML = result
    });

    socket.on('ready', function(msg) {
        alert(msg);
    });

    socket.on('role', function(msg) {
        alert(msg);
    });
</script>
<body>
    <h1>Room {{ room_id }}</h1>
    <h2>Cards:</h2>
    <lu>
        {% for role in roles %}
        <li>{{ role }}</li>
        {% endfor %}
    </lu>
    <h2>Present:</h2>
    <lu id="player-list">
    </lu>
    <h3>Waiting for everyone to join...</h3>
</body>
</html>
